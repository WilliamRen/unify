@import mixins.sass

// ***************************************************************************************************
//	 RESET
// ***************************************************************************************************
// Structural CSS reset - only the basics

*
  +box-sizing(border-box)
  margin: 0

html, body, div, form, fieldset, legend, label, ul, ol, li
  padding: 0

table
  border-collapse: collapse
  border-spacing: 0

th, td
  text-align: left
  vertical-align: top

ul, ol
  list-style: none

h1, h2, h3, h4, h5, h6, th, td, caption, a
  font-weight: inherit
  font-size: inherit

a
  &:active, &:visited, &:hover, &:link
    color: inherit

img, body, fieldset
  border: 0

a, input:focus, textarea:focus, select:focus
  outline: none

// ***************************************************************************************************
//	 TAGS
// ***************************************************************************************************

html, body
  height: 100%
  width: 100%
  overflow: hidden

body
  /* Disabled user selection of text
  +user-select(none)
  /* Disable text size changes by the user
  -webkit-text-size-adjust: none
  /* Disables the default callout shown when you touch and hold a touch target.
  -webkit-touch-callout: none
  /* Foundation for 3D animations (required on iOS)
  -webkit-perspective: 800
  -webkit-transform-style: preserve-3d

input, textarea, .selectable
  +user-select(auto)

a
  &:active, &:visited, &:hover, &:link
    text-decoration: underline
  &[href^=\#]
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0)
    text-decoration: none

li
  position: relative

textarea
  resize: none

a[href], [rel], [goto], [exec]
  cursor: default
  
  
  
//

.SplitViewManager
  +hbox
  +box-align("end")
  width: 100%
  height: 100%
  position: relative
  border: 2px solid lime
  
  > div
    height: 100%
    +box-flex(1)
    border: 2px solid red
    position: relative
    
    &:first-child
      width: 30%

    &:last-child
      width: 60%

      
  
  

// ***************************************************************************************************
//	 SINGLETON: TAB BAR
// ***************************************************************************************************

#tab-bar
  position: absolute
  left: 0
  width: 100%
  z-index: 5000
  overflow: hidden
  opacity: 0
  +hbox
  &.active
    opacity: 1
  &.hide
    visibility: hidden
  > div
    // Width is relevant for equal arrangement of buttons;
    // it is not the real width generated by flex
    width: 10%
    +box-flex(1)
    text-align: center

// ***************************************************************************************************
//	 SINGLETON: ACTIVITY INDICATOR
// ***************************************************************************************************

#activity
  position: absolute
  top: 50%
  left: 50%
  height: 150px
  width: 150px
  margin-top: -75px
  margin-left: -75px
  z-index: 10000
  pointer-events: none
  opacity: 1
  &.in,
  &.out
    opacity: 0
  &.animate
    +transition(unquote("-webkit-transform, -moz-transform, -o-transform, opacity"), 200ms, ease, 100ms)

// ***************************************************************************************************
//	 CLASS: LAYER
// ***************************************************************************************************

.layer
  -webkit-backface-visibility: hidden
  -webkit-transform: translate3d(0, 0, 0) rotate(0) scale(1)
  -webkit-transition-property: -webkit-transform, opacity
  -webkit-transition-duration: 350ms
  -webkit-transition-timing-function: ease-in-out
  position: absolute
  left: 0
  top: 0
  width: 100%
  height: 100%
  // This is important, we are not allowed to define "block" here because the user might
  // choose another display mode for the layer. This implementation only modifies display
  // when it has not the current class.
  &:not(.current)
    display: none !important

.android .layer
  -webkit-transform: translate(0, 0) rotate(0) scale(1)
  -webkit-transition-duration: 150ms
  -webkit-transition-timing-function: linear

// ***************************************************************************************************
//	 CLASS: SCROLL VIEW
// ***************************************************************************************************

.scroll-view
  overflow: hidden
  position: relative
  +box-flex(1)
  > .content
    -webkit-transform: translate3d(0, 0, 0)
    position: absolute
    left: 0
    top: 0
    min-width: 100%
    min-height: 100%

// ***************************************************************************************************
//	 CLASS: SCROLL INDICATOR
// ***************************************************************************************************

.scroll-indicator
  display: block
  position: absolute
  opacity: 0
  z-index: 10
  -webkit-transition-property: opacity
  -webkit-transition-duration: 0.25s
  > div
    background: rgba(0, 0, 0, 0.5)
    position: absolute
    top: 0
    left: 0
    -webkit-transform: translate3d(0, 0, 0)
  > div:nth-of-type(2)
    /* scale from left top not from center
    -webkit-transform-origin: left top
  &.horizontal
    bottom: 2px
    height: 5px
    /* default position is outside of viewport
    +translate3d(0, 10px, 0)
    > div
      width: 3px
      height: 5px
    > div:nth-of-type(2)
      left: 3px
      width: 1px
    > div:first-child
      +border-left-radius(2px)
    > div:last-child
      +border-right-radius(2px)
  &.vertical
    right: 2px
    width: 5px
    /* default position is outside of viewport
    +translate3d(10px, 0, 0)
    > div
      width: 5px
      height: 3px
    > div:nth-of-type(2)
      top: 3px
      height: 1px
    > div:first-child
      +border-top-radius(2px)
    > div:last-child
      +border-bottom-radius(2px)

// ***************************************************************************************************
//	 CLASS: DIALOG
// ***************************************************************************************************

.dialog,
.infodialog
  z-index: 6001
  position: absolute
  &-mask
    z-index: 6000
    position: absolute
  *
    z-index: 6003
    position: relative
  &-background
    z-index: 6002
    position: absolute
    left: 0
    top: 0
    right: 0
    bottom: 0

// ***************************************************************************************************
//	 CLASS: SLIDE VIEW
// ***************************************************************************************************

.slide-view > .content
  +hbox
