@import mixins.sass

// ***************************************************************************************************
//   RESET
// ***************************************************************************************************

// Structural CSS reset - only the basics

*
  +box-sizing(border-box)
  margin: 0

html, body, div, form, fieldset, legend, label, ul, ol, li
  padding: 0

table
  border-collapse: collapse
  border-spacing: 0

th, td
  text-align: left
  vertical-align: top

ul, ol
  list-style: none

h1, h2, h3, h4, h5, h6, th, td, caption, a
  font-weight: inherit
  font-size: inherit

a
  &:active, &:visited, &:hover, &:link
    color: inherit

img, body, fieldset
  border: 0

a, input:focus, textarea:focus, select:focus
  outline: none




// ***************************************************************************************************
//   TAGS
// ***************************************************************************************************

html, body
  height: 100%
  width: 100%
  overflow: hidden

body
  /* Disabled user selection of text
  +user-select(none)
  /* Disable text size changes by the user
  -webkit-text-size-adjust: none
  /* Disables the default callout shown when you touch and hold a touch target.
  -webkit-touch-callout: none
  /* Foundation for 3D animations (required on iOS)
  -webkit-perspective: 800
  -webkit-transform-style: preserve-3d

input, textarea, .selectable
  +user-select(auto)

a
  &:active, &:visited, &:hover, &:link
    text-decoration: underline
  &[href^=\#]
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0)
    text-decoration: none

li
  position: relative

textarea
  resize: none

a[href], [rel], [goto], [exec]
  cursor: default




// ***************************************************************************************************
//   CLASS: SPLIT VIEW
// ***************************************************************************************************

.split-view
  +hbox
  width: 100%
  height: 100%
  position: relative
  background: black
  
  > .view-manager
    height: 100%
    +box-flex(1)
    position: relative
    overflow: hidden
    
  &[orient=portrait]
    > .view-manager
      &:first-child
        width: 100%

  &[orient=landscape]
    > .view-manager
      &:first-child
        width: 30%
        border-right: 1px solid black

      &:last-child
        width: 60%
  
  
  

// ***************************************************************************************************
//   CLASS: TAB VIEW
// ***************************************************************************************************

.tab-view
  +vbox
  height: 100%

  > .view-manager
    background: #eee
    +box-flex(1)

  > .tab-bar
    width: 100%
    +hbox

    &.selected
      opacity: 1

    > div
      // Width is relevant for equal arrangement of buttons;
      // it is not the real width generated by flex
      width: 10%
      +box-flex(1)
      text-align: center




// ***************************************************************************************************
//   SINGLETON: ACTIVITY INDICATOR
// ***************************************************************************************************

#activity
  position: absolute
  top: 50%
  left: 50%
  height: 144px
  width: 144px
  margin-top: -72px
  margin-left: -72px
  z-index: 10000
  pointer-events: none
  opacity: 1
  &.in,
  &.out
    opacity: 0
  &.animate
    +transition(unquote("-webkit-transform, -moz-transform, -o-transform, opacity"), 200ms, ease, 100ms)

// ***************************************************************************************************
//   popover
// ***************************************************************************************************

.popover-wrapper
  &.in,
  &.out
    opacity: 0
  &.animate
    +transition(unquote("-webkit-transform, -moz-transform, -o-transform, opacity"), 200ms, ease, 100ms)


// ***************************************************************************************************
//   CLASS: LAYER
// ***************************************************************************************************

.layer
  -webkit-backface-visibility: hidden
  -webkit-transform: translate3d(0, 0, 0) rotate(0) scale(1)
  -webkit-transition-property: -webkit-transform, opacity
  -webkit-transition-duration: 350ms
  -webkit-transition-timing-function: ease-in-out
  position: absolute
  left: 0
  top: 0
  width: 100%
  height: 100%

  // This is important, we are not allowed to define "block" here because the user might
  // choose another display mode for the layer. This implementation only modifies display
  // when it has not the current class.
  &:not(.current)
    display: none !important
  


.android .layer
  -webkit-transform: translate(0, 0) rotate(0) scale(1)
  -webkit-transition-duration: 150ms
  -webkit-transition-timing-function: linear




// ***************************************************************************************************
//   CLASS: SCROLL VIEW
// ***************************************************************************************************

.scroll-view
  overflow: hidden
  position: relative
  +box-flex(1)

  > .content
    -webkit-transform: translate3d(0, 0, 0)
    position: absolute
    left: 0
    top: 0
    min-width: 100%
    min-height: 100%




// ***************************************************************************************************
//   CLASS: SLIDE VIEW
// ***************************************************************************************************

.slide-view > .content
  +hbox




// ***************************************************************************************************
//   CLASS: SCROLL INDICATOR
// ***************************************************************************************************

.scroll-indicator
  display: block
  position: absolute
  opacity: 0
  z-index: 10
  -webkit-transition-property: opacity
  -webkit-transition-duration: 0.25s
  
  > div
    background: rgba(0, 0, 0, 0.5)
    position: absolute
    top: 0
    left: 0
    -webkit-transform: translate3d(0, 0, 0)
    
  > div:nth-of-type(2)
    /* scale from left top not from center
    -webkit-transform-origin: left top
    
  &.horizontal
    bottom: 2px
    height: 5px
    /* default position is outside of viewport
    +translate3d(0, 10px, 0)
    
    > div
      width: 3px
      height: 5px
    > div:nth-of-type(2)
      left: 3px
      width: 1px
    > div:first-child
      +border-left-radius(2px)
    > div:last-child
      +border-right-radius(2px)
      
  &.vertical
    right: 2px
    width: 5px
    /* default position is outside of viewport
    +translate3d(10px, 0, 0)
    
    > div
      width: 5px
      height: 3px
    > div:nth-of-type(2)
      top: 3px
      height: 1px
    > div:first-child
      +border-top-radius(2px)
    > div:last-child
      +border-bottom-radius(2px)

// ***************************************************************************************************
//   CLASS: SLIDE INDICATOR
// ***************************************************************************************************

.slide-indicator
  +hbox
  +box-pack(center)
  position: absolute
  bottom: 0px
  height: 20px
  width: 100%
  z-index: 10
  
  > div
    background: rgba(125, 125, 125, 0.5)
    width: 5px
    height: 5px
    margin-left: 8px
    +border-radius(3px)
    top: 0
    left: 0
    
    &:first-child  
      margin-left: 0
    
    &.activedot
      background: rgba(255, 255, 255, 1)
